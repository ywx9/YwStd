/// \file cfenv
/// \copyright (c) 2022 ywx9.com

#pragma once

#if defined(ywstd_export) and __has_include("inc/cfenv")
#include "inc/cfenv"
#else

namespace std {

/// represents the floating-point environment
struct fenv_t {
  unsigned long _0, _1;
};

/// represents the floating-point exception flags
using fexcept_t = unsigned long;

/// clears the floating-point exception flags
int __cdecl feclearexcept(int except);

/// gets the floating-point exception flags
int __cdecl fegetexceptflag(fexcept_t* pflag, int except);

/// raises the floating-point exception flags
int __cdecl feraiseexcept(int except);

/// sets the floating-point exception flags
int __cdecl fesetexceptflag(const fexcept_t* pflag, int except);

/// tests the floating-point exception flags
int __cdecl fetestexcept(int except);

/// gets the floating-point rounding mode
int __cdecl fegetround(void);

/// sets the floating-point rounding mode
int __cdecl fesetround(int mode);

/// gets the floating-point environment
int __cdecl fegetenv(fenv_t* penv);

/// saves the floating-point environment and clears the floating-point exception flags
int __cdecl feholdexcept(fenv_t* penv);

/// sets the floating-point environment and clears the floating-point exception flags
int __cdecl fesetenv(const fenv_t* penv);

/// updates the floating-point environment with the floating-point exception flags
int __cdecl feupdateenv(const fenv_t* penv);
}

#endif
